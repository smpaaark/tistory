# 나만의 개발 가이드 v1 (Last Update: 2021.04.26)

## 프로젝트 생성
* Java 8
* Spring Web
* Mustache
* Spring Data JPA
* H2 Database
* Lombok
* Validation

## 의존성 추가
* junit-vintage-engine: JUnit4 사용하기 위함

## 버전 관리
* Git과 GitGub를 사용한다.

## 패키지 구조
* web: 컨트롤러와 관련된 클래스
  * dto: 모든 응답 Dto 클래스
* domain: 도메인을 담을 패키지
  * 도메인별 패키지 생성: 도메인 + Repository
* serivice: 서비스를 담을 패키지
  * 도메인별 패키지 생성 

## HelloController 테스트

## 롬복테스트

## 요구사항 분석

## 도메인 모델 설계
* 다대다 관계는 절대 설정하지 않고 엔티티를 추가하여 일대다-다대일 관계를 맺게 설계한다.
* @Setter를 사용하지 않는다.
* PK명은 도메인클래스명_id
* 값 타입은 변경 불가능하게 설계해야 한다.
* @XToOne(OneToOne, ManyToOne) 관계는 기본이 즉시로딩이므로 직접 지연로딩으로 설정
* 컬렉션은 필드에서 초기화

## 테이블 설계

## 구현 순서
도메인 -> 리포지토리 -> 서비스 -> 웹계층

## 개발 정책
* Service 계층에서는 클래스에 @Transactional(readOnly = true) 선언하고 등록/수정 경우엔 메서드에 @Transactional 선언
* @Autowired 사용하지 말고 생성자 주입 방법 사용
* 테스트에 @Transactional 선언하여 테스트 후 롤백 처리
* 테스트용 application.properties 생성