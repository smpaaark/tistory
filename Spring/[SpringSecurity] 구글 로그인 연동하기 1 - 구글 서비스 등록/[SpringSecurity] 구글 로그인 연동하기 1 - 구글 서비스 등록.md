## 구글 서비스 등록
### [구글 클라우드 플랫폼 주소](https://console.cloud.google.com/home/dashboard?project=braided-pride-310804)로 이동한다.

### [프로젝트 선택] 탭 클릭   
![1](https://raw.githubusercontent.com/smpark1020/tistory/master/Spring/%5BSpringSecurity%5D%20%EA%B5%AC%EA%B8%80%20%EB%A1%9C%EA%B7%B8%EC%9D%B8%20%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0%201%20-%20%EA%B5%AC%EA%B8%80%20%EC%84%9C%EB%B9%84%EC%8A%A4%20%EB%93%B1%EB%A1%9D/1.PNG)

### [새 프로젝트] 버튼 클릭   
![2](https://raw.githubusercontent.com/smpark1020/tistory/master/Spring/%5BSpringSecurity%5D%20%EA%B5%AC%EA%B8%80%20%EB%A1%9C%EA%B7%B8%EC%9D%B8%20%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0%201%20-%20%EA%B5%AC%EA%B8%80%20%EC%84%9C%EB%B9%84%EC%8A%A4%20%EB%93%B1%EB%A1%9D/2.PNG)

### 등록될 서비스 이름을 입력한다.   
![3](https://raw.githubusercontent.com/smpark1020/tistory/master/Spring/%5BSpringSecurity%5D%20%EA%B5%AC%EA%B8%80%20%EB%A1%9C%EA%B7%B8%EC%9D%B8%20%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0%201%20-%20%EA%B5%AC%EA%B8%80%20%EC%84%9C%EB%B9%84%EC%8A%A4%20%EB%93%B1%EB%A1%9D/3.PNG)

### 생성이 완료된 프로젝트를 선택하고 왼쪽 메뉴 탭을 클릭해서 API 및 서비스 카테고리로 이동한다.   
![4](https://raw.githubusercontent.com/smpark1020/tistory/master/Spring/%5BSpringSecurity%5D%20%EA%B5%AC%EA%B8%80%20%EB%A1%9C%EA%B7%B8%EC%9D%B8%20%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0%201%20-%20%EA%B5%AC%EA%B8%80%20%EC%84%9C%EB%B9%84%EC%8A%A4%20%EB%93%B1%EB%A1%9D/4.PNG)

### 사이드바 중간에 있는 [사용자 인증 정보]를 클릭하고 [+ 사용자 인증 정보 만들기] 버튼을 클릭한다.
![5](https://raw.githubusercontent.com/smpark1020/tistory/master/Spring/%5BSpringSecurity%5D%20%EA%B5%AC%EA%B8%80%20%EB%A1%9C%EA%B7%B8%EC%9D%B8%20%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0%201%20-%20%EA%B5%AC%EA%B8%80%20%EC%84%9C%EB%B9%84%EC%8A%A4%20%EB%93%B1%EB%A1%9D/5.PNG)

### [OAuth 클라이언트 ID] 항목을 클릭한다.
![6](https://raw.githubusercontent.com/smpark1020/tistory/master/Spring/%5BSpringSecurity%5D%20%EA%B5%AC%EA%B8%80%20%EB%A1%9C%EA%B7%B8%EC%9D%B8%20%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0%201%20-%20%EA%B5%AC%EA%B8%80%20%EC%84%9C%EB%B9%84%EC%8A%A4%20%EB%93%B1%EB%A1%9D/6.PNG)

### 동의 화면 구성이 필요하므로 [동의 화면 구성] 버튼을 클릭한다.
![7](https://raw.githubusercontent.com/smpark1020/tistory/master/Spring/%5BSpringSecurity%5D%20%EA%B5%AC%EA%B8%80%20%EB%A1%9C%EA%B7%B8%EC%9D%B8%20%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0%201%20-%20%EA%B5%AC%EA%B8%80%20%EC%84%9C%EB%B9%84%EC%8A%A4%20%EB%93%B1%EB%A1%9D/7.PNG)

### User Type은 외부를 선택한 뒤 [만들기] 버튼을 클릭한다.
![8](https://raw.githubusercontent.com/smpark1020/tistory/master/Spring/%5BSpringSecurity%5D%20%EA%B5%AC%EA%B8%80%20%EB%A1%9C%EA%B7%B8%EC%9D%B8%20%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0%201%20-%20%EA%B5%AC%EA%B8%80%20%EC%84%9C%EB%B9%84%EC%8A%A4%20%EB%93%B1%EB%A1%9D/8.PNG)

### 앱 이름과 사용자 지원 이메일을 입력한다.
![9](https://raw.githubusercontent.com/smpark1020/tistory/master/Spring/%5BSpringSecurity%5D%20%EA%B5%AC%EA%B8%80%20%EB%A1%9C%EA%B7%B8%EC%9D%B8%20%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0%201%20-%20%EA%B5%AC%EA%B8%80%20%EC%84%9C%EB%B9%84%EC%8A%A4%20%EB%93%B1%EB%A1%9D/9.PNG)
* 앱 이름: 구글 로그인 시 사용자에게 노출될 애플리케이션 이름을 말한다.
* 지원 이메일: 사용자 동의 화면에서 노출될 이메일 주소이다.   
보통은 서비스의 help 이메일 주소를 사용한다.

### 개발자 연락처 정보에 이메일 주소를 입력하고 [저장 후 계속] 버튼을 클릭한다.
![10](https://raw.githubusercontent.com/smpark1020/tistory/master/Spring/%5BSpringSecurity%5D%20%EA%B5%AC%EA%B8%80%20%EB%A1%9C%EA%B7%B8%EC%9D%B8%20%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0%201%20-%20%EA%B5%AC%EA%B8%80%20%EC%84%9C%EB%B9%84%EC%8A%A4%20%EB%93%B1%EB%A1%9D/10.PNG)

### [범위 추가 또는 삭제] 버튼을 클릭하고 email, profile, openid를 각각 검색하여 [업데이트] 버튼을 클릭 한다.   
![11](https://raw.githubusercontent.com/smpark1020/tistory/master/Spring/%5BSpringSecurity%5D%20%EA%B5%AC%EA%B8%80%20%EB%A1%9C%EA%B7%B8%EC%9D%B8%20%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0%201%20-%20%EA%B5%AC%EA%B8%80%20%EC%84%9C%EB%B9%84%EC%8A%A4%20%EB%93%B1%EB%A1%9D/11.PNG)
![12](https://raw.githubusercontent.com/smpark1020/tistory/master/Spring/%5BSpringSecurity%5D%20%EA%B5%AC%EA%B8%80%20%EB%A1%9C%EA%B7%B8%EC%9D%B8%20%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0%201%20-%20%EA%B5%AC%EA%B8%80%20%EC%84%9C%EB%B9%84%EC%8A%A4%20%EB%93%B1%EB%A1%9D/12.PNG)

### 범위 추가된 화면
![13](https://raw.githubusercontent.com/smpark1020/tistory/master/Spring/%5BSpringSecurity%5D%20%EA%B5%AC%EA%B8%80%20%EB%A1%9C%EA%B7%B8%EC%9D%B8%20%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0%201%20-%20%EA%B5%AC%EA%B8%80%20%EC%84%9C%EB%B9%84%EC%8A%A4%20%EB%93%B1%EB%A1%9D/13.PNG)
* Google API의 범위: email/profile/openid가 기본 범위이다.   
  * 이외 다른 정보들도 사용하고 싶다면 범위 추가 버튼으로 추가하면 된다.   

### 동의 화면 구성이 끝났으니 다음 그림과 같이 OAuth 클라이어트 ID 만들기 화면으로 바로 이동한다.
![15](https://raw.githubusercontent.com/smpark1020/tistory/master/Spring/%5BSpringSecurity%5D%20%EA%B5%AC%EA%B8%80%20%EB%A1%9C%EA%B7%B8%EC%9D%B8%20%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0%201%20-%20%EA%B5%AC%EA%B8%80%20%EC%84%9C%EB%B9%84%EC%8A%A4%20%EB%93%B1%EB%A1%9D/15.PNG)

### 웹 애플리케이션 선택 후 프로젝트 이름을 등록한다.
![16](https://raw.githubusercontent.com/smpark1020/tistory/master/Spring/%5BSpringSecurity%5D%20%EA%B5%AC%EA%B8%80%20%EB%A1%9C%EA%B7%B8%EC%9D%B8%20%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0%201%20-%20%EA%B5%AC%EA%B8%80%20%EC%84%9C%EB%B9%84%EC%8A%A4%20%EB%93%B1%EB%A1%9D/16.PNG)

### [승인된 리디렉션 URI] 항목만 그림과 같이 값을 등록한다.
![17](https://raw.githubusercontent.com/smpark1020/tistory/master/Spring/%5BSpringSecurity%5D%20%EA%B5%AC%EA%B8%80%20%EB%A1%9C%EA%B7%B8%EC%9D%B8%20%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0%201%20-%20%EA%B5%AC%EA%B8%80%20%EC%84%9C%EB%B9%84%EC%8A%A4%20%EB%93%B1%EB%A1%9D/17.PNG)
승인된 리디렉션 URI
* 서비스에서 파라미터로 인증 정보를 주었을 때 인증이 성공하면 구글에서 리다이렉트할 URL이다.
* 스프링 부트 2 버전의 시큐리티에서는 기본적으로 {도메인}/login/oauth2/code/{소셜서비스코드}로 리다이렉트 URL을 지원하고 있다.
* 사용자가 별도로 리다이렉트 URL을 지원하는 Controller를 만들 필요가 없다.
  * 시큐리티에서 이미 구현해 높은 상태이다.
* 실제 서버에 배포하게 되면 localhost 외에 추가로 주소를 추가해야 한다.

### 생성 버튼을 클릭하면 다음 그림과 같이 생성된 클라이언트 정보를 볼 수 있고 생성된 애플리케이션을 클릭하면 그림과 같이 인증 정보를 볼 수 있다.
![18](https://raw.githubusercontent.com/smpark1020/tistory/master/Spring/%5BSpringSecurity%5D%20%EA%B5%AC%EA%B8%80%20%EB%A1%9C%EA%B7%B8%EC%9D%B8%20%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0%201%20-%20%EA%B5%AC%EA%B8%80%20%EC%84%9C%EB%B9%84%EC%8A%A4%20%EB%93%B1%EB%A1%9D/18.PNG)
![19](https://raw.githubusercontent.com/smpark1020/tistory/master/Spring/%5BSpringSecurity%5D%20%EA%B5%AC%EA%B8%80%20%EB%A1%9C%EA%B7%B8%EC%9D%B8%20%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0%201%20-%20%EA%B5%AC%EA%B8%80%20%EC%84%9C%EB%B9%84%EC%8A%A4%20%EB%93%B1%EB%A1%9D/19.PNG)

## 참고
* [이동욱님의 스프링 부트와 AWS로 혼자 구현하는 웹 서비스](https://jojoldu.tistory.com/463)