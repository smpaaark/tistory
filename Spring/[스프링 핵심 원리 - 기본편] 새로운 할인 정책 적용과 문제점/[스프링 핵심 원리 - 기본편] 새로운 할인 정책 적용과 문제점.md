## 할인 정책을 애플리케이션에 적용
할인 정책을 변경하려면 클라이언트인 ```OrderServiceImpl``` 코드를 고쳐야 합니다.

## 문제점 발견
* 우리는 역할과 구현을 충실하게 분리했습니다. => OK
* 다형성도 활용하고, 인터페이스와 구현 객체를 분리했습니다. => OK
* OCP, DIP 같은 객체지향 설계 원칙을 충실히 준수했습니다.
  * => 그렇게 보이지만 사실은 아닙니다.
* DIP: DIP를 지킨 것 같지만 추상(인터페이스) 뿐만 아니라 ```구체(구현) 클래스에도 의존```하고 있습니다.
  * 추상(인터페이스) 의존: ```DiscountPolicy```
  * 구체(구현) 클래스: ```FixDiscountPolicy```, ```RateDiscountPolicy```
* OCP: ```지금 코드는 기능을 확장해서 변경하면, 클라이언트 코드에 영향을 줍니다.``` 따라서 ```OCP를 위반```합니다.

## 기대했던 의존관계
![1]()   
* 지금까지 단순히 ```DiscountPolicy``` 인터페이스만 의존한다고 생각했습니다.

## 실제 의존관계
![2]()   
* 잘보면 클라이언트인 ```OrderServiceImpl```이 ```DiscountPolicy``` 인터페이스 뿐만 아니라 ```FixDiscountPolicy```인 구체 클래스도 함께 의존하고 있습니다. ```DIP 위반```

## 참조
* [스프링 핵심 원리 - 기본편](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8/dashboard)